<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <title>OpenSplice DDS Release Notes - Changes and Fixed Bugs V4.3</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" href="../css/prismstyle.css" type="text/css">
  </head>
  <body>
    <p class="back">
      <a href="releasenotes.html">
        Back to Release Notes Page<img src="../images/back.gif" align="middle" 
        height="25" width="30" alt="Back">
      </a>
    </p>

    <h1>Fixed Bugs and Changes V4.3</h1>
    <h2>Contents</h2>
    <ul>
      <li><a href="#highlights">Release Highlights</a></li>
      <li><a href="#issues_not_api">Fixed Bugs and Changes not affecting API</a></li>
      <li><a href="#issues_api">Fixed Bugs and Changes affecting API</a></li>
    </ul>
    <hr>
    This page contains a list of all bugfixes and changes incorporated in 
    OpenSplice V4.3 series of releases<br>
    
    <h2><a name="highlights">Release Highlights</a></h2>

    <p>
       OpenSplice DDS V4.3 contains some significant new features:
       <ul>
         <li>Support for Unicast
            <ol>
               <li> Network partition addresses are now a list of one or more 
               unicast, multicast or broadcast addresses, with colons, semicolons
               or spaces as delimiters.
               <li> It is no longer necessary to have the complete list of 
               networking partitions listed in every networking service configuration.
               Only those networking partitions relevant for a  specific node have
               to be listed in that node's configuration.	As a consequence, samples
               are no longer dropped if they are received from an unknown or 
               disconnected network partition.
               <li> Networking partitions containing unicast addresses can now 
               contain the localhost address as well, making it possible to 
               reuse networking configurations on different nodes.
               <li> Networking addresses can be decimal dotted IP or symbolic
               hostnames, which will be resolved to IP addresses.
               <li> Interface addresses (for the NetworkInterfaceAddress parameter)
               can be symbolic now as well (eth0, eth1 etc), as opposed to decimal
               dotted IP. [Only applies to Linux]
               <li> It is now possible to configure the DontRoute and TimeToLive
               options for the Send attributes of each channel.
               <li>	The OpenSplice Configurator Tool is updated accordingly
            </ol>
         <li>Solaris 10 Studio 12 moved to the OpenSplice DDS Community Edition. 
         <li>The Control and Monitoring APIs (include/cm) have been moved to the
         OpenSplice DDS Community Edition. However, please be aware that these 
         unsupported APIs will change a little more frequently than other supported APIs
         between major/minor releases.</li>
         <li>Addition of process exit behaviour
         <p>Starting the Domain Service with the exit code option<br>
         The Domain service can be started with the option '-f' which behaves almost
         exactly the same as the normal start-up. The difference is that the 
         ospl tool will not return directly but instead block and it will return
         an exit code upon termination. This exit code can be interpreted by a 
         supervisory process to determine if the service should be restarted, 
         the node should be restarted or nothing should be done. The following 
         exit codes are supported:
            <ol>
               <li> 0 : normal termination as result of  ‘OSPL stop’.
               <li> -1: a recoverable error occurred. The system has encountered
               a runtime error and has terminated. A restart of the system is 
               possible. For examples, the system ran out of resources.
               <li> -2: an unrecoverable error occurred. The system has encountered
               an error that cannot be resolved by a restart of the system. 
               For example, the configuration file contains errors or does not exist.
            </ol> 
         </p>                 
         <li>Topic and Partition Read/Write access QoS policy 
         <p>The ability to configure access restrictions to a set of Topics or Partitions on a node 
         for applications. See <a href="../pdf/Topic_and_Partition_Read_Write_access_QoS_Policy_Usage_Guide.pdf" target="guides">
         <b>Topic and Partition Read/Write access QoS policy Usage Guide</b> (pdf)</a>
         for the documentation to support this features. This document will be merged
         into the OpenSplice Documentation Set in a future release.        
        </p>         
        </ul>
    </p>       
    <h2><a name="issues_not_api">Fixed Bugs and Changes not affecting API</a></h2>
    <p>

     <p>
       <h3>4.3</h3>
        <table width="90%">
        <tr>
          <th width="14%">
            Report ID.
          </th>
          <th width="86%">
            Description
          </th>
        </tr>
        <tr>
          <td>
            dds1822
          </td>
          <td>
            <b>Opensplice default configuration uses ports 3340 3350 and 3360 which are IANA reserved.</b> 
            <p><i>The default configuration now uses 53340, 53350, 53360.</i></p>
            <i>
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1821
          </td>
          <td>
            <b>Networking Service now does not pick loopback if it is the first enabled BROADCAST interface.</b> 
            <p><i>The networking service would pick the first broadcast enabled interface when the "First Available"
            QoS was used, which may have been a loopback interface. This has been changed to ignore loopback interfaces
            unless there is no other type of broadcast interface available. Change made due to Windows operating system
            change in behaviour.</i></p>
            <i>
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1784
          </td>
          <td>
            <b>DataWriter with lower ownership_strength cannot take over ownership after restart.</b> 
            <p><i>Fixed internal bug with handling ownership of already deleted DataWriters.</i></p>
            <i>
            </i>
          </td>
        </tr>
        <tr>
          <td>
            6763<br/>
            dds1770
          </td>
          <td>
            <b>Crash in Waitset during application termination for non guard condition</b><br/>
            <i>
              Applications sometimes crash during termination when a condition
              in a waitset is being triggered at the same time.<br/> 
              <b>Solution:</b>A bug in the internal Waitset triggering 
              mechanism has been fixed. 
            </i>
          </td>
        </tr>
        <tr>
          <td>
            6762<br/>
            dds1768
          </td>
          <td>
            <b>DLRL crashes when a DCPS exit handler starts to destroy instance 
            handles used by the DLRL.</b><br/>
            <i>
              DLRL applications sometimes crash during termination when 
              underlying entities have already been deleted during exit
              handling.<br/> 
              <b>Solution:</b>The internal DLRL exception mechanism now only
              keeps track of the first exception that occurred and is made more 
              robust to prevent overflow situations. 
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1761 
          </td>
          <td>
            <b>Network partition mappings are not working properly.</b><br/>
            <p><i>The networking service sometimes sent out packets using the default networking partiton where it should have used one specifically configured for the logical DDS partition where the sample in the packet was published in. <br/>
             <b>Solution:</b>The networking partition is now selected from the packet itself instead of from the default in the networking channel.
             </i></p>
          </td>
        </tr>
        <tr>
          <td>
            dds1753 
          </td>
          <td>
            <b>TRANSIENT_LOCAL not supported while it is mandatory.</b> 
            <p><i>Removed the restriction that disabled the feature. Documentation still to be updated.</i></p>
            <i>
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1741
          </td>
          <td>
            <b>4.2 Tuner crashes when reading a 4.1 properties file</b>
            <p><i>Using the Tuner properties file from OpenSplice V4.1 with OpenSplice V4.2
            causes the Tuner to crash.</i></p>            
             <b>Solution:</b>Implemented specific properties file name handling for each release.
             Each version of DDS will uses its own specific property file.
          </td>
        </tr>
        <tr>
          <td>
            6739<br/>
            dds1735
          </td>
          <td>
            <b>Networking thread consumes 100% cpu</b>
            <p><i>The problem occurred because resources (bufferlocations for networkpackets) were leaking
            when connections to remote nodes were lost and data was received from them afterwards.
            Packets that are received from nodes that are in the state "disconnected" are discarded,
            but the buffers used to store these packets were not properly released.</i></p>            
             <b>Solution:</b>These buffers will now be properly released with this fix and the service has
             been made more robust. If this (running out of resources) happens again, networking will not
             go into 100% load, but will terminate itself.
          </td>
        </tr>
        <tr>
          <td>
            dds1733
          </td>
          <td>
            <b>Java standalone PingPong example</b>
            <p><i>The bounded string sequence is failing as null is passed to it</i></p>            
             <b>Solution:</b>Updated example to pass 0 instead of null.
          </td>
        </tr>
        <tr>
          <td>
            dds1730
          </td>
          <td>
            <b>The DBMSConnect service doesn't handle out of order updates correctly</b>
             <p><i>In order to be able to supply order preservation over instance
             boundaries, the DBMSConnect service now sorts the incoming data 
             based on the write-time of the sample.</i></p>
          </td>
        </tr>

        <tr>
          <td>
            dds1715
          </td>
          <td>
            <b>Fixed the standalone C ping pong example using DDSI for Solaris.</b>
          </td>
        </tr>
        <tr>
          <td>
            dds1712
          </td>
          <td>
            <b>Fixed the -t option with the standalone C ping pong example using DDSI
            as it did not terminate the example.</b>
          </td>
        </tr>
        <tr>
          <td>
            dds1710
          </td>
          <td>
            <b>Fixed the compiler warnings on examples with VxWorks 6.6.</b>
          </td>
        </tr>
        <tr>
          <td>
            dds1705
          </td>
          <td>
            <b>read_next_instance_w_condition function hangs</b><br/>
            <i>
              Correction made to stop read_next_instance_w_condition function hanging
              when the const gapi_instanceHandle_t a_handle is given a value of -1. 
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1694
          </td>
          <td>
            <b>Unsafe notifications in DDS Kernel</b><br/>
            <i>
              Intermittent corruption of shared memory when high usage of threads.<br/> 
              <b>Solution:</b>Implemented correct locking protection to prevent memory corruption. 
            </i>
          </td>
        </tr>
        <tr>
          <td>
            6688<br/>
            dds1668
          </td>
          <td>
            <b>Java application crash in v_subscriberNotify</b><br/>
            <i>
              Java applications sometimes crash when it subscribes to a new 
              partition.<br/> 
              <b>Solution:</b>A bug in the internal notification mechanism has 
              been fixed. 
            </i>
          </td>
        </tr>
        <tr>
          <td>
            6687<br/>
            dds1667
          </td>
          <td>
            <b>Durability crash in c_free during system startup</b><br/>
            <i>
              The durability service crashes sometimes during startup during
              a c_free call.<br/> 
              <b>Solution:</b>The c_free call no longer dereferences the
              object after the reference count was decreased.
            </i>
          </td>
        </tr>

        <tr>
          <td>
            6675<br/>
            dds1652
          </td>
          <td>
            <b>Unambiguous network reports are needed</b><br/>
            <i>
              Unambiguous network reports are needed that identify either node 
              topology changes detected by the discovery protocol or reliability 
              loss on the reliable channels.<br/> 
              <b>Solution:</b>The reports were extended and improved.
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1635 
          </td>
          <td>
            <b>Pseudo simultaneous launch of OpenSplice processes failing.</b> 
            <p><i>Increased number of available connections to spliced and made 
            locking mechanism robust against temporary unavailability of a
            connection.</i></p>
            <i>
            </i>
          </td>
        </tr>       
        <tr>
          <td>
            6642<br/>
            dds1624
          </td>
          <td>
            <b>BAD_PARAMATER returned from 'register_type' operation.</b> <p><i>The register_type operation was
               incorrectly checking parent scopes. It now only looks in the 'current' scope for the 'new' 
               module to prevent duplicate type info.</i></p>
            <i>
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1576
          </td>
          <td>
            <b>Topic and Partition Read/Write access QoS policy</b> 
            <p><i>See <a href="#highlights">Release Highlights</a>
             for more information.</i></p>
            <i>
            </i>
          </td>
        </tr>

     </table>
     </p>
     <p>
     
    <h2><a name="issues_api">Fixed Bugs and Changes affecting API</a></h2>
     <p>
       <h3>4.3</h3>
        <table width="90%">
        <tr>
          <th width="14%">
            Report ID.
          </th>
          <th width="86%">
            Description
          </th>
        </tr>
        <tr>
          <td>
            dds1745
          </td>
          <td>
            <b>Control and Monitoring APIs moved to community version</b>
             <p><i>These APIs are now exposed - include/cm.</i></p>
          </td>
        </tr>
        <tr>
          <td>
            dds1711
          </td>
          <td>
            <b>Changed void*-typed implementation functions in DDS::DataReader_impl and DDS::DataWriter_impl
            to be not virtual</b>
             <p><i>This change was made to reduce a number of warnings on the Solaris 10
             Studio 12 build.</i></p>
          </td>
        </tr>
        <tr>
          <td>
            dds1631
          </td>
          <td>
            <b>Addition of new interface EXTTopicListener</b>
             <p><i>Interface implemented, but no implementation code. This will be 
             implemented in a future release.
             <br>
             <code>
             interface ExtTopicListener : TopicListener &#123;<br> 
                void on_all_data_disposed ( ): <br>
             &#125; ;
             </code>
             </i></p>
          </td>
        </tr>        
        <tr>
          <td>
            dds1579
          </td>
          <td>
            <b>Process exit behaviour</b>
             <p><i>Addition of -f option to ospl tool. See <a href="#highlights">Release Highlights</a>
             for more information.</i></p>
          </td>
        </tr>

     </table>
    </p>
    <p>
    <br/>
    <hr>
    <p>
      <a target="_top" href="http://www.prismtech.com">
      <img src="../images/logo_prismtech2.jpg" align="right"
           width="112" height="29" border="0" alt="PrismTech"></a> 
      <a href="#top" target="_self">
      <img src="../images/top.gif" width="32" 
           height="32" border="0" alt="TOP"></a><br/>
      <a href="#top" target="_self">Top</a>
    </p>
  </body>
</html>
