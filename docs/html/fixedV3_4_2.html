<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <title>OpenSplice DDS Release Notes - Changes and Fixed Bugs V3.4.2</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" href="../css/prismstyle.css" type="text/css">
  </head>
  <body>
    <p class="back">
      <a href="releasenotes.html">
        Back to Release Notes Page<img src="../images/back.gif" align="middle" 
        height="25" width="30" alt="Back">
      </a>
    </p>

    <h1>Fixed Bugs and Changes V3.4.2</h1>
    <h2>Contents</h2>
    <ul>
      <li><a href="#issues_not_api">Fixed Bugs and Changes not affecting API</a></li>
      <li><a href="#issues_api">Fixed Bugs and Changes affecting API</a></li>
    </ul>
    <hr>
    This page contains a list of all bugfixes and changes incorporated in 
    OpenSplice V3.4.2<br/>
    <h2><a name="issues_not_api">Fixed Bugs and Changes not affecting API</a></h2>
      <p>
        <table width="90%">
        <tr>
          <th width="14%">
            Report ID.
          </th>
          <th width="86%">
            Description
          </th>
        </tr>
        <tr>
          <td>
            4736<br/>
            dds449
          </td>
          <td>
            <b>
              OpenSplice database locking fails
            </b><br/>
            <i>
              OpenSplice database locking fails according to ospl-error.log:
              <pre><code>
### Report Message ###
Type : ERROR
Context : os_svr4_sharedMemoryAttach
File : ../../svr4/code/os_sharedmem_seg.c
Line : 569
Code : 3
Description : Failed to lock shared memory into RAM 0x20000000 524288000 12 (F122) Node : mzk_1c1
Process : 7741
Thread : main thread b7c779c0
Timestamp : 1173952795.199278000 (Thu Mar 15 09:59:55 200)
              </code></pre>
              The application should have the privilege to lock memory pages into RAM. As it is
              sufficient for one process to lock the memory pages into RAM, application deployment
              can be simplified locking the memory pages by one service: the OpenSplice daemon.<br/>
              <b>Solution:</b> Only the OpenSplice daemon ('spliced') will lock the memory pages
              of the shared memory segment into RAM. If the Locking option is enabled for the 
              OpenSplice database, only the spliced is required to have the privilege of locking
              memory pages into RAM. 
            </i>
          </td>
        </tr>
        <tr>
          <td>
            5653<br/>
            dds908
          </td>
          <td>
            <b>
              Multicasting In OpenSplice with Windows
            </b><br/>
            <i>
              When multicast is configured an error is reported in the ospl-error.log file stating
              the sockets are failing to work with an error 10022, which a brief look on this
              function's errors suggest an invalid argument is being passed.<br/>
              <b>Solution:</b> The problem was identified: Windows requires a bind for the receiving
              socket before the multicast option is set.
            </i>
          </td>
        </tr>
        <tr>
          <td>
            5983<br/>
            dds1016
          </td>
          <td>
            <b>
              Services not locked in memory
            </b><br/>
            <i>
              OpenSplice services running on a Linux platform (e.g. networking, durability and
              splice daemon) should be locked in memory, to avoid memory pages of the services
              being flushed to disk. OpenSplice supports service locking as a configuration
              item, but the locking does not work.<br/> 
              A memory allocation test shows that in case of memory shortage, resident memory
              pages used by the networking service are paged out, causing a page fault if the
              page is accessed again. The delay caused by the paging interferes with RealTime
              processing.<br/>
              <b>Solution:</b> The problem (locking the memory pages was executed at the wrong
              time) has been solved. OpenSplice services will fail when memory locking is
              configured on platforms not supporting memory page locking. In addition the
              OpenSplice daemon can now also be configured to lock the pages in memory. Add
              the following code as part of a Domain element of the configuration:
              <pre><code>
&lt;Daemon&gt;
   &lt;MemoryLocking&gt;TRUE&lt;/MemoryLocking&gt;
&lt;/Daemon&gt;
              </code></pre>  
            </i>
          </td>
        </tr>
        <tr>
          <td>
            dds1032
          </td>
          <td>
            <b>
              Improve error reporting when failing to attach/create shared memory.
            </b><br/>
            <i>
              When the application fails to attach to the domain, limited error
              reporting is done, which makes it difficult to determine what went wrong.<br/>
              <b>Solution:</b> Error reporting has been extended.
            </i>
          </td>
        </tr>
        </table>
      </p>
      
    <h2><a name="issues_api">Fixed Bugs and Changes affecting API</a></h2>
      <p>
        No changes were made affecting the API.
      </p>
    <br/>
    <hr>
    <p>
      <a target="_top" href="http://www.prismtech.com">
      <img src="../images/logo_prismtech2.jpg" align="right"
           width="112" height="29" border="0" alt="PrismTech"></a> 
      <a href="#top" target="_self">
      <img src="../images/top.gif" width="32" 
           height="32" border="0" alt="TOP"></a><br/>
      <a href="#top" target="_self">Top</a>
    </p>
  </body>
</html>
